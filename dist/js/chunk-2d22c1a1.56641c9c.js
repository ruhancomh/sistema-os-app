(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22c1a1"],{f298:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticStyle:{padding:"0px"},attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",{attrs:{color:"white",width:"100%"}},[a("v-card-title",[a("v-btn",{attrs:{color:"primary",large:"",to:"/clientes/editar/"+this.getClienteID()+"/conversas/adicionar"}},[a("v-icon",{attrs:{dark:""}},[t._v("add")]),t._v("\n            Adicionar conversa\n          ")],1)],1),a("v-divider"),a("v-card-text",[a("custom-data-table",{attrs:{headers:t.headers,"table-data":t.tableData,filters:t.filters,"default-sort":t.defaultSort,"default-descending":t.defaultDescending},on:{onDeleteItem:function(e){return t.onDeleteItem(e)},onEditItem:function(e){return t.onEditItem(e)}},scopedSlots:t._u([{key:"filter",fn:function(e){return[a("v-flex",{attrs:{xs12:"",md3:""}},[a("v-text-field",{attrs:{mask:"##/##/####",placeholder:"dd/mm/aaaa",label:"Data","return-masked-value":"",clearable:""},model:{value:e.filters.data,callback:function(a){t.$set(e.filters,"data",a)},expression:"props.filters.data"}})],1),a("v-flex",{attrs:{xs6:"",md4:""}},[a("v-select",{attrs:{items:t.funcionariosOptions,label:"Funcionário","item-text":"nome","item-value":"id",clearable:""},model:{value:e.filters.funcionario,callback:function(a){t.$set(e.filters,"funcionario",a)},expression:"props.filters.funcionario"}})],1),a("v-flex",{attrs:{xs6:"",md3:""}},[a("v-select",{attrs:{items:t.acaoOptions,loading:t.acaoOptionsLoad,label:"Ação","item-text":"descricao","item-value":"id",clearable:""},model:{value:e.filters.acao,callback:function(a){t.$set(e.filters,"acao",a)},expression:"props.filters.acao"}})],1)]}},{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.data))]),a("td",[t._v(t._s(e.item.cliente?e.item.cliente.razao_social:""))]),a("td",[t._v(t._s(e.item.funcionario?e.item.funcionario.nome:""))]),a("td",[t._v(t._s(e.item.acao?e.item.acao.descricao:""))])]}}]),model:{value:t.tableIpunt,callback:function(e){t.tableIpunt=e},expression:"tableIpunt"}})],1)],1)],1)],1)],1)},i=[],r=(a("96cf"),a("3b8d")),o=a("cebc"),s=a("bc6e"),c=a("b4ea"),l=a("3288"),u=a("efa1"),d=a("2f62"),f={components:{CustomDataTable:u["a"]},data:function(){return{filters:{data:"",acao:"",funcionario:""},defaultSort:"data",defaultDescending:!0,headers:[{text:"Data",align:"left",sortable:!0,value:"data"},{text:"Cliente",align:"left",sortable:!0,value:"cliente"},{text:"Funcionario",align:"left",sortable:!0,value:"funcionario"},{text:"Ação",align:"left",sortable:!0,value:"acao"}],tableData:null,tableIpunt:{},acaoOptions:[],acaoOptionsLoad:!1,funcionariosOptions:[],funcionariosOptionsLoad:!1}},methods:Object(o["a"])({},Object(d["c"])(["SHOW_ALERT","SET_TOOLBAR_BACK_URL","SHOW_LOADER","CLOSE_LOADER"]),{getData:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a,n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.tableIpunt.filters,a=this.tableIpunt.pagination,n=new s["a"],t.next=5,n.list(e,a.page,a.rowsPerPage,a.sortBy,a.descending,this.getClienteID());case 5:i=t.sent,i.error?this.tableData=[]:this.tableData=i.data;case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onDeleteItem:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.SHOW_LOADER(),a=new s["a"],t.next=4,a.delete(e,this.getClienteID());case 4:n=t.sent,this.CLOSE_LOADER(),this.SHOW_ALERT({type:n.error?"error":"success",message:n.message}),n.error||this.getData();case 8:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),onEditItem:function(t){this.$router.push({path:"/clientes/editar/".concat(this.getClienteID(),"/conversas/editar/").concat(t)})},getClienteID:function(){return this.$route.params.id},loadFuncionarios:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.funcionariosOptionsLoad=!0,e=new c["a"],t.next=4,e.all();case 4:a=t.sent,this.funcionariosOptions=a.data.data,this.funcionariosOptionsLoad=!1;case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),loadAcoes:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.acaoOptionsLoad=!0,e=new l["a"],t.next=4,e.all();case 4:a=t.sent,this.acaoOptions=a.data.data,this.acaoOptionsLoad=!1;case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}),watch:{tableIpunt:{handler:function(){this.getData()},deep:!0}},created:function(){this.SET_TOOLBAR_BACK_URL("/clientes"),this.loadFuncionarios(),this.loadAcoes()}},p=f,h=a("2877"),m=a("6544"),v=a.n(m),b=a("8336"),O=a("b0af"),g=a("99d9"),x=a("12b2"),w=a("a523"),_=a("ce7e6"),D=a("0e8f"),L=a("132d"),I=a("a722"),R=a("b56d"),k=a("2677"),A=Object(h["a"])(p,n,i,!1,null,null,null);e["default"]=A.exports;v()(A,{VBtn:b["a"],VCard:O["a"],VCardText:g["b"],VCardTitle:x["a"],VContainer:w["a"],VDivider:_["a"],VFlex:D["a"],VIcon:L["a"],VLayout:I["a"],VSelect:R["a"],VTextField:k["a"]})}}]);
//# sourceMappingURL=chunk-2d22c1a1.56641c9c.js.map