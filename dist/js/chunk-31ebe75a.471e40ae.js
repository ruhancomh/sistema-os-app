(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31ebe75a"],{"11e9":function(t,e,a){var i=a("52a7"),r=a("4630"),n=a("6821"),o=a("6a99"),s=a("69a8"),c=a("c69a"),l=Object.getOwnPropertyDescriptor;e.f=a("9e1e")?l:function(t,e){if(t=n(t),e=o(e,!0),c)try{return l(t,e)}catch(a){}if(s(t,e))return r(!i.f.call(t,e),t[e])}},1614:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticStyle:{padding:"0px"},attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"justify-center":"","align-center":""}},[a("v-flex",[a("v-card",{attrs:{color:"white",width:"100%"}},[a("v-card-text",[a("v-form",{ref:"form",on:{submit:function(t){t.preventDefault()}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md3:""}},[a("v-text-field",{attrs:{mask:"##/##/#### ##:##",placeholder:"dd/mm/aaaa hh:mm",label:"Data","return-masked-value":"",rules:[t.formRules.default.required],required:""},model:{value:t.formFields.data,callback:function(e){t.$set(t.formFields,"data",e)},expression:"formFields.data"}})],1),a("v-flex",{attrs:{xs6:"",md4:""}},[a("v-select",{attrs:{items:t.funcionariosOptions,label:"Funcionário","item-text":"nome","item-value":"id",rules:[t.formRules.default.required],required:""},model:{value:t.formFields.funcionarios_id,callback:function(e){t.$set(t.formFields,"funcionarios_id",e)},expression:"formFields.funcionarios_id"}})],1),a("v-flex",{attrs:{xs6:"",md4:""}},[a("v-layout",[a("v-select",{attrs:{items:t.acaoOptions,loading:t.acaoOptionsLoad,label:"Ação","item-text":"descricao","item-value":"id"},model:{value:t.formFields.conversa_acoes_id,callback:function(e){t.$set(t.formFields,"conversa_acoes_id",e)},expression:"formFields.conversa_acoes_id"}}),a("conversa-acao-light-form",{on:{success:function(e){return t.conversaAcaoAddSuccess(e)}}})],1)],1),a("v-flex",{attrs:{xs12:"",md3:""}},[a("v-text-field",{attrs:{mask:"##/##/#### ##:##",placeholder:"dd/mm/aaaa hh:mm",label:"Agendar Próxima Conversa","return-masked-value":""},model:{value:t.formFields.data_agendamento,callback:function(e){t.$set(t.formFields,"data_agendamento",e)},expression:"formFields.data_agendamento"}})],1),a("v-flex",{attrs:{xs12:"",md12:""}},[a("v-textarea",{attrs:{label:"Descrição da conversa",rules:[t.formRules.default.required],required:""},model:{value:t.formFields.descricao,callback:function(e){t.$set(t.formFields,"descricao",e)},expression:"formFields.descricao"}})],1)],1)],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:"",large:"",loading:t.loading},on:{click:t.save}},[t._v("\n            Salvar\n          ")])],1)],1)],1)],1)],1)},r=[],n=(a("96cf"),a("3b8d")),o=a("cebc"),s=a("b4ea"),c=a("bc6e"),l=a("2f62"),u=a("3288"),d=a("c62f"),f={components:{ConversaAcaoLightForm:d["a"]},data:function(){return{loading:!1,valid:!1,formFields:{},formRules:{default:{required:function(t){return!!t||"Campo obrigatório"}}},acaoOptions:[],acaoOptionsLoad:!1,funcionariosOptions:[],funcionariosOptionsLoad:!1}},methods:Object(o["a"])({},Object(l["c"])(["SHOW_ALERT","SET_TOOLBAR_BACK_URL","SHOW_LOADER","CLOSE_LOADER"]),{loadEntity:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.SHOW_LOADER(),e=new c["a"],t.next=4,e.get(this.$route.params.conversas_id,this.$route.params.id);case 4:a=t.sent,this.CLOSE_LOADER(),a.error?(this.SHOW_ALERT({type:"error",message:a.message}),this.$router.push({path:"/clientes/editar/".concat(this.getClienteID(),"/conversas")})):this.formFields=a.data;case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),save:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.valid){t.next=10;break}return this.loading=!0,e=new c["a"],t.next=5,e.update(this.formFields,this.getClienteID());case 5:a=t.sent,this.SHOW_ALERT({type:a.error?"error":"success",message:a.message}),this.loading=!1,t.next=11;break;case 10:this.$refs.form.validate();case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),loadFuncionarios:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.funcionariosOptionsLoad=!0,e=new s["a"],t.next=4,e.all();case 4:a=t.sent,this.funcionariosOptions=a.data.data,this.funcionariosOptionsLoad=!1;case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),loadAcoes:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.acaoOptionsLoad=!0,e=new u["a"],t.next=4,e.all();case 4:a=t.sent,this.acaoOptions=a.data.data,this.acaoOptionsLoad=!1;case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getClienteID:function(){return this.$route.params.id},conversaAcaoAddSuccess:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.loadAcoes();case 2:this.formFields.conversa_acoes_id=e.id;case 3:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}),created:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.SET_TOOLBAR_BACK_URL("/clientes/editar/".concat(this.getClienteID(),"/conversas")),t.next=3,this.loadEntity();case 3:this.loadFuncionarios(),this.loadAcoes();case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},h=f,p=a("2877"),v=a("6544"),m=a.n(v),g=a("8336"),b=a("b0af"),x=a("99d9"),_=a("a523"),y=a("ce7e6"),O=a("0e8f"),A=a("4bd4"),w=a("a722"),F=a("b56d"),k=a("9910"),R=a("2677"),E=a("a844"),C=Object(p["a"])(h,i,r,!1,null,null,null);e["default"]=C.exports;m()(C,{VBtn:g["a"],VCard:b["a"],VCardActions:x["a"],VCardText:x["b"],VContainer:_["a"],VDivider:y["a"],VFlex:O["a"],VForm:A["a"],VLayout:w["a"],VSelect:F["a"],VSpacer:k["a"],VTextField:R["a"],VTextarea:E["a"]})},"19e8":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"v-light-form"},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-btn",t._g({attrs:{small:"",fab:"",flat:"",dark:"",color:"primary"},on:{click:function(e){return t.showDialog()}}},i),[a("v-icon",{attrs:{dark:""}},[t._v("mdi-library-plus")])],1)]}}])},[a("span",[t._v(t._s(t.tooltipText))])]),t.requiredDataEmpty?a("v-dialog",{attrs:{lazy:!0,"max-width":t.maxWidth},model:{value:t.dialogActive,callback:function(e){t.dialogActive=e},expression:"dialogActive"}},[a("v-card",[t.title?a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.title))]):t._e(),a("v-card-text",{domProps:{innerHTML:t._s(t.requiredDataEmptyText)}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(e){return t.closeDialog()}}},[t._v("\n          Fechar\n        ")])],1)],1)],1):a("v-dialog",{attrs:{lazy:!0,"max-width":t.maxWidth},model:{value:t.dialogActive,callback:function(e){t.dialogActive=e},expression:"dialogActive"}},[a("v-card",[t.title?a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.title))]):t._e(),a("v-card-text",[a("v-form",{ref:"form",on:{submit:function(t){t.preventDefault()}},model:{value:t.formValid,callback:function(e){t.formValid=e},expression:"formValid"}},[a("v-layout",{attrs:{row:"",wrap:""}},[t._t("form",null,{fields:t.formFields,rules:t.rules})],2)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"flat"},on:{click:function(e){return t.closeDialog()}}},[t._v("\n          Cancelar\n        ")]),a("v-btn",{attrs:{color:"primary",flat:"flat",loading:t.loading},on:{click:function(e){return t.confirm()}}},[t._v("\n          Confirmar\n        ")])],1)],1)],1)],1)},r=[],n=(a("c5f6"),{props:{title:{default:""},tooltipText:{default:""},fields:{type:Object,default:function(){}},rules:{type:Object,default:function(){}},clearOnClose:{type:Boolean,default:!0},async:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},requiredDataEmpty:{type:Boolean,default:!1},requiredDataEmptyText:{type:String,default:""},maxWidth:{type:Number,default:400}},data:function(){return{dialogActive:!1,formValid:!1,formFields:{}}},methods:{showDialog:function(){this.dialogActive=!0},closeDialog:function(){this.dialogActive=!1,this.clearOnClose&&(this.formFields={})},confirm:function(){this.$refs.form.validate()&&(this.$emit("confirm",this.formFields),this.async||this.closeDialog())}},created:function(){this.fields&&(this.formFields=this.fields)}}),o=n,s=a("2877"),c=a("6544"),l=a.n(c),u=a("8336"),d=a("b0af"),f=a("99d9"),h=a("12b2"),p=a("169a"),v=a("4bd4"),m=a("132d"),g=a("a722"),b=a("9910"),x=(a("60e8"),a("b64a")),_=a("163b"),y=a("c69d"),O=a("30d4"),A=a("b8d7"),w=a("98a1"),F=a("80d2"),k=a("d9bd");function R(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var E={name:"v-tooltip",mixins:[x["a"],_["a"],y["a"],O["a"],A["a"],w["a"]],props:{closeDelay:{type:[Number,String],default:200},debounce:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:200},tag:{type:String,default:"span"},transition:String,zIndex:{default:null}},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,a=t.content,i=!this.bottom&&!this.left&&!this.top&&!this.right,r=this.isAttached?e.offsetLeft:e.left,n=0;return this.top||this.bottom||i?n=r+e.width/2-a.width/2:(this.left||this.right)&&(n=r+(this.right?e.width:-a.width)+(this.right?10:-10)),this.nudgeLeft&&(n-=parseInt(this.nudgeLeft)),this.nudgeRight&&(n+=parseInt(this.nudgeRight)),this.calcXOverflow(n,this.dimensions.content.width)+"px"},calculatedTop:function(){var t=this.dimensions,e=t.activator,a=t.content,i=this.isAttached?e.offsetTop:e.top,r=0;return this.top||this.bottom?r=i+(this.bottom?e.height:-a.height)+(this.bottom?10:-10):(this.left||this.right)&&(r=i+e.height/2-a.height/2),this.nudgeTop&&(r-=parseInt(this.nudgeTop)),this.nudgeBottom&&(r+=parseInt(this.nudgeBottom)),this.calcYOverflow(r+this.pageYOffset)+"px"},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left}},computedTransition:function(){return this.transition?this.transition:this.top?"slide-y-reverse-transition":this.right?"slide-x-transition":this.bottom?"slide-y-transition":this.left?"slide-x-reverse-transition":""},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(F["b"])(this.maxWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick(function(){t.value&&t.callActivate()})},mounted:function(){"v-slot"===Object(F["k"])(this,"activator",!0)&&Object(k["a"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},genActivator:function(){var t=this,e=this.disabled?{}:{mouseenter:function(e){t.getActivator(e),t.runDelay("open")},mouseleave:function(e){t.getActivator(e),t.runDelay("close")}};if("scoped"===Object(F["k"])(this,"activator")){var a=this.$scopedSlots.activator({on:e});return this.activatorNode=a,a}return this.$createElement("span",{on:e,ref:"activator"},this.$slots.activator)}},render:function(t){var e,a=t("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(e={},R(e,this.contentClass,!0),R(e,"menuable__content__active",this.isActive),e),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.showLazyContent(this.$slots.default));return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[t("transition",{props:{name:this.computedTransition}},[a]),this.genActivator()])}},C=Object(s["a"])(o,i,r,!1,null,null,null);e["a"]=C.exports;l()(C,{VBtn:u["a"],VCard:d["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:h["a"],VDialog:p["a"],VForm:v["a"],VIcon:m["a"],VLayout:g["a"],VSpacer:b["a"],VTooltip:E})},"5dbc":function(t,e,a){var i=a("d3f4"),r=a("8b97").set;t.exports=function(t,e,a){var n,o=e.constructor;return o!==a&&"function"==typeof o&&(n=o.prototype)!==a.prototype&&i(n)&&r&&r(t,n),t}},"60e8":function(t,e,a){},"8b97":function(t,e,a){var i=a("d3f4"),r=a("cb7c"),n=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,a){return n(t,a),e?t.__proto__=a:i(t,a),t}}({},!1):void 0),check:n}},9093:function(t,e,a){var i=a("ce10"),r=a("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},aa77:function(t,e,a){var i=a("5ca1"),r=a("be13"),n=a("79e5"),o=a("fdef"),s="["+o+"]",c="​",l=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),d=function(t,e,a){var r={},s=n(function(){return!!o[t]()||c[t]()!=c}),l=r[t]=s?e(f):o[t];a&&(r[a]=l),i(i.P+i.F*s,"String",r)},f=d.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},c5f6:function(t,e,a){"use strict";var i=a("7726"),r=a("69a8"),n=a("2d95"),o=a("5dbc"),s=a("6a99"),c=a("79e5"),l=a("9093").f,u=a("11e9").f,d=a("86cc").f,f=a("aa77").trim,h="Number",p=i[h],v=p,m=p.prototype,g=n(a("2aeb")(m))==h,b="trim"in String.prototype,x=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():f(e,3);var a,i,r,n=e.charCodeAt(0);if(43===n||45===n){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===n){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var o,c=e.slice(2),l=0,u=c.length;l<u;l++)if(o=c.charCodeAt(l),o<48||o>r)return NaN;return parseInt(c,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof p&&(g?c(function(){m.valueOf.call(a)}):n(a)!=h)?o(new v(x(e)),a,p):x(e)};for(var _,y=a("9e1e")?l(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;y.length>O;O++)r(v,_=y[O])&&!r(p,_)&&d(p,_,u(v,_));p.prototype=m,m.constructor=p,a("2aba")(i,h,p)}},c62f:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-light-form",{ref:"lightForm",attrs:{title:"Ações de conversa","tooltip-text":"Adicionar nova ação de conversa",loading:t.loading,rules:{required:t.formRules.default.required}},on:{confirm:function(e){return t.save(e)}},scopedSlots:t._u([{key:"form",fn:function(e){return[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{rules:[e.rules.required],label:"Descrição"},model:{value:e.fields.descricao,callback:function(a){t.$set(e.fields,"descricao",a)},expression:"props.fields.descricao"}})],1)]}}])})},r=[],n=(a("96cf"),a("3b8d")),o=a("cebc"),s=(a("cadf"),a("551c"),a("f751"),a("097d"),a("2f62")),c=a("19e8"),l=a("3288"),u={components:{VLightForm:c["a"]},data:function(){return{loading:!1,formRules:{default:{required:function(t){return!!t||"Campo obrigatório"}}}}},computed:{isRequiredDataEmpty:function(){return!this.cidadesId}},methods:Object(o["a"])({},Object(s["c"])(["SHOW_ALERT"]),{save:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){var a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,a=new l["a"],t.next=4,a.create(e);case 4:i=t.sent,this.SHOW_ALERT({type:i.error?"error":"success",message:i.message}),i.error||(this.$refs.lightForm.closeDialog(),this.$emit("success",i.data)),this.loading=!1;case 8:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()})},d=u,f=a("2877"),h=a("6544"),p=a.n(h),v=a("0e8f"),m=a("2677"),g=Object(f["a"])(d,i,r,!1,null,null,null);e["a"]=g.exports;p()(g,{VFlex:v["a"],VTextField:m["a"]})},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-31ebe75a.471e40ae.js.map